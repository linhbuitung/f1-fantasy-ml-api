schema: '2.0'
stages:
  create_training:
    cmd: python scripts/create_training.py
    deps:
    - path: app/preprocess/preprocess_general.py
      hash: md5
      md5: a12f324397e0a2452b308b26a8560407
      size: 18546
    - path: app/preprocess/preprocess_mainrace.py
      hash: md5
      md5: 739776035e857b269c0bb90f20b7a583
      size: 15774
    - path: data/processed/countries.csv
      hash: md5
      md5: 9c6e8e7779ebc3bf808f75ae72166bc1
      size: 8547
    - path: data/processed/races.csv
      hash: md5
      md5: d55da5b57554788fd736d3c6e04605fa
      size: 158923
    - path: data/raw/circuits.csv
      hash: md5
      md5: 2619f74e3dd45cbbf968aa2fd446f5f2
      size: 10446
    - path: data/raw/constructors.csv
      hash: md5
      md5: 5e5fd44ce3bad5d49ba0f06ab50f0b54
      size: 17478
    - path: data/raw/drivers.csv
      hash: md5
      md5: b2b99a01466307dc95c6f273b8781778
      size: 94367
    - path: data/raw/lap_times.csv
      hash: md5
      md5: 11c54c53641190d566b33f7a843b9c7e
      size: 17622395
    - path: data/raw/qualifying.csv
      hash: md5
      md5: 2abc6140414c276378ab25ae662c9814
      size: 465231
    - path: data/raw/results.csv
      hash: md5
      md5: 2fa0062e049e04de1236411bb240e220
      size: 1721961
    - path: data/raw/status.csv
      hash: md5
      md5: 73878c3fa86488223c66616051b37181
      size: 2136
    outs:
    - path: data/processed/cleaned_data_main_race_with_median.csv
      hash: md5
      md5: 48715a807ccaea5cc5dfdc23947079a3
      size: 807255
  train_model:
    cmd: python scripts/train_mainrace_model.py
    deps:
    - path: app/model.py
      hash: md5
      md5: bfae9da49886704d0c0c612ee3d22c50
      size: 2181
    - path: data/processed/cleaned_data_main_race_with_median.csv
      hash: md5
      md5: 48715a807ccaea5cc5dfdc23947079a3
      size: 807255
    - path: scripts/train_mainrace_model.py
      hash: md5
      md5: e135c49f11c26f6ccee5c0dbc332d551
      size: 1129
    outs:
    - path: model/trained_pipeline.pkl
      hash: md5
      md5: 2a67c7c177f866f8afe46fdc8033031d
      size: 1187878
  create_general_processed_data:
    cmd: python scripts/rebuild_processed_data.py
    deps:
    - path: data/raw/circuits.csv
      hash: md5
      md5: 2619f74e3dd45cbbf968aa2fd446f5f2
      size: 10446
    - path: data/raw/constructors.csv
      hash: md5
      md5: 5e5fd44ce3bad5d49ba0f06ab50f0b54
      size: 17478
    - path: data/raw/drivers.csv
      hash: md5
      md5: b2b99a01466307dc95c6f273b8781778
      size: 94367
    - path: data/raw/lap_times.csv
      hash: md5
      md5: 11c54c53641190d566b33f7a843b9c7e
      size: 17622395
    - path: data/raw/qualifying.csv
      hash: md5
      md5: 2abc6140414c276378ab25ae662c9814
      size: 465231
    - path: data/raw/results.csv
      hash: md5
      md5: 2fa0062e049e04de1236411bb240e220
      size: 1721961
    - path: data/raw/status.csv
      hash: md5
      md5: 73878c3fa86488223c66616051b37181
      size: 2136
    - path: src/preprocess/preprocess_general.py
      hash: md5
      md5: 8595a2dfece54ee0ff73e914fb344627
      size: 18744
    outs:
    - path: data/processed/circuits.csv
      hash: md5
      md5: 8c7b6afb3d0c371716b44c5509da187b
      size: 3784
    - path: data/processed/constructors.csv
      hash: md5
      md5: f3aec879ecdcdc71bdb9d16d6829ef07
      size: 4843
    - path: data/processed/countries.csv
      hash: md5
      md5: 9c6e8e7779ebc3bf808f75ae72166bc1
      size: 8547
    - path: data/processed/drivers.csv
      hash: md5
      md5: fb5a83998e77f701a8e75b97d72ecd2f
      size: 42726
    - path: data/processed/race_weather.csv
      hash: md5
      md5: 8dec18dd2fd2cc893ca01d10af84f722
      size: 15761
    - path: data/processed/races.csv
      hash: md5
      md5: d55da5b57554788fd736d3c6e04605fa
      size: 158923
  create_mainrace_training_data:
    cmd: python scripts/create_mainrace_training.py
    deps:
    - path: data/processed/countries.csv
      hash: md5
      md5: 9c6e8e7779ebc3bf808f75ae72166bc1
      size: 8547
    - path: data/processed/races.csv
      hash: md5
      md5: d55da5b57554788fd736d3c6e04605fa
      size: 158923
    - path: data/raw/circuits.csv
      hash: md5
      md5: 2619f74e3dd45cbbf968aa2fd446f5f2
      size: 10446
    - path: data/raw/constructors.csv
      hash: md5
      md5: 5e5fd44ce3bad5d49ba0f06ab50f0b54
      size: 17478
    - path: data/raw/drivers.csv
      hash: md5
      md5: b2b99a01466307dc95c6f273b8781778
      size: 94367
    - path: data/raw/lap_times.csv
      hash: md5
      md5: 11c54c53641190d566b33f7a843b9c7e
      size: 17622395
    - path: data/raw/qualifying.csv
      hash: md5
      md5: 2abc6140414c276378ab25ae662c9814
      size: 465231
    - path: data/raw/results.csv
      hash: md5
      md5: 2fa0062e049e04de1236411bb240e220
      size: 1721961
    - path: data/raw/status.csv
      hash: md5
      md5: 73878c3fa86488223c66616051b37181
      size: 2136
    - path: src/preprocess/preprocess_general.py
      hash: md5
      md5: 8595a2dfece54ee0ff73e914fb344627
      size: 18744
    - path: src/preprocess/preprocess_mainrace.py
      hash: md5
      md5: ed0a0dd6d1c47618a39931a7ad2323b5
      size: 15480
    outs:
    - path: data/processed/cleaned_data_main_race_with_median.csv
      hash: md5
      md5: 48715a807ccaea5cc5dfdc23947079a3
      size: 807255
  train_mainrace_model:
    cmd: python scripts/train_mainrace_model.py
    deps:
    - path: data/processed/cleaned_data_main_race_with_median.csv
      hash: md5
      md5: 48715a807ccaea5cc5dfdc23947079a3
      size: 807255
    - path: scripts/train_mainrace_model.py
      hash: md5
      md5: e6b65f7ecdd314b3ac4dd3edc6f286f3
      size: 1185
    - path: src/models/mainrace_pipeline.py
      hash: md5
      md5: 9f461d47f46f5f7378e19a4d562a114b
      size: 2205
    outs:
    - path: models/trained_mainrace_pipeline.pkl
      hash: md5
      md5: 8d8274655cf63aa8870e47d1323d08f4
      size: 1187878
